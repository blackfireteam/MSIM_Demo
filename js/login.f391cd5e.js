(window.webpackJsonp=window.webpackJsonp||[]).push([["login"],{"00d8":function(e,t){var n,o;n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&o.rotl(e,8)|4278255360&o.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=o.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,o=0;n<e.length;n++,o+=8)t[o>>>5]|=e[n]<<24-o%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var t=[],o=0;o<e.length;o+=3)for(var r=e[o]<<16|e[o+1]<<8|e[o+2],a=0;a<4;a++)8*o+6*a<=8*e.length?t.push(n.charAt(r>>>6*(3-a)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],o=0,r=0;o<e.length;r=++o%4)0!=r&&t.push((n.indexOf(e.charAt(o-1))&Math.pow(2,-2*r+8)-1)<<2*r|n.indexOf(e.charAt(o))>>>6-2*r);return t}},e.exports=o},"01ea":function(e,t,n){"use strict";t.a={appId:100}},"03fe":function(e,t,n){"use strict";n("7cf0")},"044b":function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},"13c9":function(e,t,n){"use strict";n("87e6")},"1a28":function(e,t,n){},2591:function(e,t,n){},4125:function(e,t,n){"use strict";var o=n("7a23");Object(o.z)("data-v-1242ba14");var r={class:"logo_header"};Object(o.x)();var a={props:{title:String}};n("6f03");a.render=function(e,t,n,a,c,i){return Object(o.w)(),Object(o.f)("div",r,Object(o.H)(n.title),1)},a.__scopeId="data-v-1242ba14";t.a=a},"67a9":function(e,t,n){},6821:function(e,t,n){var o,r,a,c,i;o=n("00d8"),r=n("9a63").utf8,a=n("044b"),c=n("9a63").bin,(i=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?c.stringToBytes(e):r.stringToBytes(e):a(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var n=o.bytesToWords(e),s=8*e.length,l=1732584193,u=-271733879,d=-1732584194,p=271733878,f=0;f<n.length;f++)n[f]=16711935&(n[f]<<8|n[f]>>>24)|4278255360&(n[f]<<24|n[f]>>>8);n[s>>>5]|=128<<s%32,n[14+(s+64>>>9<<4)]=s;var g=i._ff,m=i._gg,b=i._hh,h=i._ii;for(f=0;f<n.length;f+=16){var v=l,O=u,j=d,y=p;l=g(l,u,d,p,n[f+0],7,-680876936),p=g(p,l,u,d,n[f+1],12,-389564586),d=g(d,p,l,u,n[f+2],17,606105819),u=g(u,d,p,l,n[f+3],22,-1044525330),l=g(l,u,d,p,n[f+4],7,-176418897),p=g(p,l,u,d,n[f+5],12,1200080426),d=g(d,p,l,u,n[f+6],17,-1473231341),u=g(u,d,p,l,n[f+7],22,-45705983),l=g(l,u,d,p,n[f+8],7,1770035416),p=g(p,l,u,d,n[f+9],12,-1958414417),d=g(d,p,l,u,n[f+10],17,-42063),u=g(u,d,p,l,n[f+11],22,-1990404162),l=g(l,u,d,p,n[f+12],7,1804603682),p=g(p,l,u,d,n[f+13],12,-40341101),d=g(d,p,l,u,n[f+14],17,-1502002290),l=m(l,u=g(u,d,p,l,n[f+15],22,1236535329),d,p,n[f+1],5,-165796510),p=m(p,l,u,d,n[f+6],9,-1069501632),d=m(d,p,l,u,n[f+11],14,643717713),u=m(u,d,p,l,n[f+0],20,-373897302),l=m(l,u,d,p,n[f+5],5,-701558691),p=m(p,l,u,d,n[f+10],9,38016083),d=m(d,p,l,u,n[f+15],14,-660478335),u=m(u,d,p,l,n[f+4],20,-405537848),l=m(l,u,d,p,n[f+9],5,568446438),p=m(p,l,u,d,n[f+14],9,-1019803690),d=m(d,p,l,u,n[f+3],14,-187363961),u=m(u,d,p,l,n[f+8],20,1163531501),l=m(l,u,d,p,n[f+13],5,-1444681467),p=m(p,l,u,d,n[f+2],9,-51403784),d=m(d,p,l,u,n[f+7],14,1735328473),l=b(l,u=m(u,d,p,l,n[f+12],20,-1926607734),d,p,n[f+5],4,-378558),p=b(p,l,u,d,n[f+8],11,-2022574463),d=b(d,p,l,u,n[f+11],16,1839030562),u=b(u,d,p,l,n[f+14],23,-35309556),l=b(l,u,d,p,n[f+1],4,-1530992060),p=b(p,l,u,d,n[f+4],11,1272893353),d=b(d,p,l,u,n[f+7],16,-155497632),u=b(u,d,p,l,n[f+10],23,-1094730640),l=b(l,u,d,p,n[f+13],4,681279174),p=b(p,l,u,d,n[f+0],11,-358537222),d=b(d,p,l,u,n[f+3],16,-722521979),u=b(u,d,p,l,n[f+6],23,76029189),l=b(l,u,d,p,n[f+9],4,-640364487),p=b(p,l,u,d,n[f+12],11,-421815835),d=b(d,p,l,u,n[f+15],16,530742520),l=h(l,u=b(u,d,p,l,n[f+2],23,-995338651),d,p,n[f+0],6,-198630844),p=h(p,l,u,d,n[f+7],10,1126891415),d=h(d,p,l,u,n[f+14],15,-1416354905),u=h(u,d,p,l,n[f+5],21,-57434055),l=h(l,u,d,p,n[f+12],6,1700485571),p=h(p,l,u,d,n[f+3],10,-1894986606),d=h(d,p,l,u,n[f+10],15,-1051523),u=h(u,d,p,l,n[f+1],21,-2054922799),l=h(l,u,d,p,n[f+8],6,1873313359),p=h(p,l,u,d,n[f+15],10,-30611744),d=h(d,p,l,u,n[f+6],15,-1560198380),u=h(u,d,p,l,n[f+13],21,1309151649),l=h(l,u,d,p,n[f+4],6,-145523070),p=h(p,l,u,d,n[f+11],10,-1120210379),d=h(d,p,l,u,n[f+2],15,718787259),u=h(u,d,p,l,n[f+9],21,-343485551),l=l+v>>>0,u=u+O>>>0,d=d+j>>>0,p=p+y>>>0}return o.endian([l,u,d,p])})._ff=function(e,t,n,o,r,a,c){var i=e+(t&n|~t&o)+(r>>>0)+c;return(i<<a|i>>>32-a)+t},i._gg=function(e,t,n,o,r,a,c){var i=e+(t&o|n&~o)+(r>>>0)+c;return(i<<a|i>>>32-a)+t},i._hh=function(e,t,n,o,r,a,c){var i=e+(t^n^o)+(r>>>0)+c;return(i<<a|i>>>32-a)+t},i._ii=function(e,t,n,o,r,a,c){var i=e+(n^(t|~o))+(r>>>0)+c;return(i<<a|i>>>32-a)+t},i._blocksize=16,i._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var n=o.wordsToBytes(i(e,t));return t&&t.asBytes?n:t&&t.asString?c.bytesToString(n):o.bytesToHex(n)}},"6f03":function(e,t,n){"use strict";n("e984")},"6ff2":function(e,t,n){"use strict";n("2591")},"71ca":function(e,t,n){"use strict";var o=n("7a23");var r={props:{isBlock:{type:Boolean,default:!0},type:String,text:String,size:String},setup:function(e){return{styleClass:function(){var t=e.isBlock?"is_block ":"";switch(e.type){case"cancel":t+="cancel_btn ";break;case"primary":t+="primary_btn "}switch(e.size){case"small":t+="btn_small";break;case"mini":t+="btn_mini"}return t}}}};n("992b");r.render=function(e,t,n,r,a,c){return Object(o.w)(),Object(o.f)("div",{class:Object(o.q)(["btn",r.styleClass()])},Object(o.H)(n.text),3)},r.__scopeId="data-v-34a68ff8";t.a=r},"7cf0":function(e,t,n){},"87e6":function(e,t,n){},"992b":function(e,t,n){"use strict";n("1a28")},"9a63":function(e,t){var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=n},dcc8:function(e,t,n){"use strict";var o=n("7a23"),r={class:"input_item"},a={class:"input_label"},c={class:"item_input_wrapper"},i={class:"err_msg"};var s={components:{InputD:n("fb37").a},props:{label:String,require:Boolean,errMsg:String},setup:function(e,t){var n=Object(o.A)({errMsg:null});return{data:n,handleBlur:function(t){e.require&&!t?n.errMsg="Require":n.errMsg=""}}}};n("f56d");s.render=function(e,t,n,s,l,u){var d=Object(o.E)("InputD");return Object(o.w)(),Object(o.f)("div",r,[Object(o.g)("h4",a,Object(o.H)(n.label),1),Object(o.g)("div",c,[Object(o.j)(d,Object(o.o)(e.$attrs,{errMsg:s.data.errMsg,onBlur:s.handleBlur,onInput:s.handleBlur}),null,16,["errMsg","onBlur","onInput"]),Object(o.D)(e.$slots,"default")]),Object(o.g)("div",i,Object(o.H)(s.data.errMsg||n.errMsg),1)])};t.a=s},dd1d:function(e,t,n){"use strict";n.r(t);var o=n("7a23");Object(o.z)("data-v-19dff402");var r={class:"login_wrapper"},a={class:"logo_wrapper"},c={class:"logo_content"},i=Object(o.g)("div",{class:"login_title"},"SIGN IN",-1),s={class:"vcode_wrapper"},l={class:"loading_icon"},u=[Object(o.g)("i",{class:"iconfont icon-loading"},null,-1)],d=["src"],p={class:"code_wrapper"},f={class:"loading_icon"},g=[Object(o.g)("i",{class:"iconfont icon-loading"},null,-1)];Object(o.x)();n("d3b7"),n("99af");var m=n("5502"),b=n("6c02"),h=n("4125"),v=n("dcc8"),O=n("71ca");var j={props:{isCheck:Boolean}};n("6ff2");j.render=function(e,t,n,r,a,c){return Object(o.w)(),Object(o.f)("i",{class:Object(o.q)(["checkbox",{active:n.isCheck}])},null,2)},j.__scopeId="data-v-56f25784";var y=j,w=n("c73c"),_=n("01ea"),I={components:{LogoHeaderVue:h.a,InputItem:v.a,ButtonD:O.a,IconCheckbox:y},setup:function(){var e=Object(o.l)().appContext.config.globalProperties,t=Object(m.b)(),r=Object(b.d)(),a=Object(b.c)(),c=Object(o.A)({isCheck:!0,phone:null,vcode:"",codeUrl:"",seed:0,vkey:"",phoneCode:"",codeTime:0});Object(o.u)((function(){l(),c.phone=t.state.curUserId,a.params.userId&&(c.phone=a.params.userId)}));var i=n("6821");var s=Object(o.B)(!1);function l(){s.value=!0,c.vcode="",c.phoneCode="",c.codeUrl="",c.vkey="",c.seed="";var t=Math.ceil(1e5*Math.random()),n=Date.now(),o=function(e){var t=60*((new Date).getTimezoneOffset()+480)*1e3,n=new Date(e+t),o=new Date(n.getFullYear(),0,1);return Math.floor((n.valueOf()-o.valueOf())/864e5)}(n),r=""+t+function(e){var t=60*((new Date).getTimezoneOffset()+480)*1e3;return new Date(e+t).getDay()}(n)+o;e.$http.post("user/vcode",{sig:i(r),nonce:t}).then((function(e){c.vcode=e.data.code,c.codeUrl="data:image/jpeg;base64,"+e.data.img,c.seed=e.data.seed,c.vkey=e.data.vkey})).finally((function(){s.value=!1}))}var u,d=Object(o.B)(!1);function p(n,o){e.$msim.login({wsUrl:n,imToken:o,subAppId:1}).then((function(e){t.commit("clear"),window.localStorage.setItem("msim_demo_userId",c.phone),window.localStorage.setItem("msim_demo_wsUrL",n),window.localStorage.setItem("msim_demo_imToken",o),t.commit("setUserId",c.phone),r.push({name:"home"})})).catch((function(n){t.commit("clear"),window.localStorage.removeItem("msim_demo_userId"),window.localStorage.removeItem("msim_demo_wsUrL"),window.localStorage.removeItem("msim_demo_imToken"),e.$message({type:"error",message:(null==n?void 0:n.msg)||n})})).finally((function(){e.$loading.hide()}))}return{data:c,register:function(){r.push({name:"register"})},getVcode:l,getPhoneCode:function(){c.codeTime>0||(c.phone?c.vcode?(d.value=!0,e.$http.post("user/sms",{phone:c.phone,vcode:c.vcode,seed:c.seed,vkey:c.vkey}).then((function(t){e.$message({type:"success",message:"短信验证码已发送"}),c.phoneCode=t.data.sms,0===c.codeTime&&(u&&(clearInterval(u),u=void 0),c.codeTime=299,u=setInterval((function(){c.codeTime-=1,0===c.codeTime&&(clearInterval(u),u=void 0)}),1e3))})).catch((function(t){e.$message({type:"error",message:"短信验证码发送失败：".concat(t.msg||"")}),l()})).finally((function(){d.value=!1}))):e.$message({type:"error",message:"Please enter the image verification code"}):e.$message({type:"error",message:"Please enter phone number"}))},vCodeLoading:s,phoneCodeLoading:d,login:function(){c.phone?c.phoneCode?(e.$loading.show(),c.phone==t.state.curUserId?p(window.localStorage.getItem("msim_demo_wsUrL"),window.localStorage.getItem("msim_demo_imToken")):e.$http.post("user/iminit",{app_id:_.a.appId,phone:c.phone,sms:c.phoneCode,ctype:1}).then((function(e){p(e.data.url,e.data.token)})).catch((function(t){e.$loading.hide(),t.code===w.a.noRegister?r.push("/register?regkey=".concat(t.data.regkey,"&phone=").concat(t.data.phone)):l()}))):e.$message({type:"error",message:"Please enter SMS verification code"}):e.$message({type:"error",message:"Please enter phone number"})}}}};n("03fe");I.render=function(e,t,n,m,b,h){var v=Object(o.E)("LogoHeaderVue"),O=Object(o.E)("InputItem"),j=Object(o.E)("ButtonD");return Object(o.w)(),Object(o.f)("div",r,[Object(o.g)("div",a,[Object(o.j)(v,{title:"MSIM"})]),Object(o.g)("div",c,[i,Object(o.j)(O,{label:"Phone",modelValue:m.data.phone,"onUpdate:modelValue":t[0]||(t[0]=function(e){return m.data.phone=e}),modelModifiers:{trim:!0,number:!0},placeholder:"Please enter phone number",maxlength:"11",require:!0,onKeydown:Object(o.P)(Object(o.Q)(m.login,["stop","prevent"]),["enter"])},null,8,["modelValue","onKeydown"]),Object(o.j)(O,{label:"VCode",modelValue:m.data.vcode,"onUpdate:modelValue":t[2]||(t[2]=function(e){return m.data.vcode=e}),modelModifiers:{trim:!0,number:!0},placeholder:"Please enter the image verification code",maxlength:"11",require:!0,onKeydown:Object(o.P)(Object(o.Q)(m.login,["stop","prevent"]),["enter"])},{default:Object(o.N)((function(){return[Object(o.g)("div",s,[Object(o.O)(Object(o.g)("span",l,u,512),[[o.L,m.vCodeLoading]]),Object(o.O)(Object(o.g)("img",{class:"vcode_img",onClick:t[1]||(t[1]=function(){return m.getVcode&&m.getVcode.apply(m,arguments)}),src:m.data.codeUrl,alt:""},null,8,d),[[o.L,!m.vCodeLoading]])])]})),_:1},8,["modelValue","onKeydown"]),Object(o.j)(O,{label:"PhoneCode",modelValue:m.data.phoneCode,"onUpdate:modelValue":t[4]||(t[4]=function(e){return m.data.phoneCode=e}),modelModifiers:{trim:!0,number:!0},placeholder:"Please enter SMS verification code",maxlength:"11",require:!0,onKeydown:Object(o.P)(Object(o.Q)(m.login,["stop","prevent"]),["enter"])},{default:Object(o.N)((function(){return[Object(o.g)("div",p,[Object(o.O)(Object(o.g)("span",f,g,512),[[o.L,m.phoneCodeLoading]]),Object(o.O)(Object(o.g)("span",{class:"code_btn",onClick:t[3]||(t[3]=function(){return m.getPhoneCode&&m.getPhoneCode.apply(m,arguments)})},Object(o.H)(m.data.codeTime>0?m.data.codeTime+"s":"获取验证码"),513),[[o.L,!m.phoneCodeLoading]])])]})),_:1},8,["modelValue","onKeydown"]),Object(o.j)(j,{text:"CONTINUE",onClick:m.login},null,8,["onClick"])])])},I.__scopeId="data-v-19dff402";t.default=I},e984:function(e,t,n){},f56d:function(e,t,n){"use strict";n("67a9")},fb37:function(e,t,n){"use strict";var o=n("7a23");Object(o.z)("data-v-43282bc1");var r={class:"input_wrapper"},a=["type","readonly","disabled","placeholder","maxlength"];Object(o.x)();n("a9e3"),n("a15b"),n("fb6a"),n("a630"),n("3ca3");var c={emits:["blur","change","keydown","update:modelValue","input"],props:{modelValue:{type:[String,Number],default:""},inputType:{type:String,default:"text"},icon:String,readonly:Boolean,disabled:Boolean,errMsg:String,maxlength:{type:String,default:null},placeholder:String},setup:function(e,t){return{handleInput:function(n){var o=n.target.value;e.maxlength&&(o=Array.from(o).slice(0,Number(e.maxlength)).join("")),t.emit("update:modelValue",o),t.emit("input",o)},handleBlur:function(e){t.emit("blur",e.target.value)},handleChange:function(e){t.emit("change",e.target.value)},handleKeydown:function(e){t.emit("keydown",e)}}}};n("13c9");c.render=function(e,t,n,c,i,s){return Object(o.w)(),Object(o.f)("div",r,[Object(o.O)(Object(o.g)("input",{class:Object(o.q)(["input_default",{err:n.errMsg,disabled_input:n.disabled,icon_paddding:n.icon}]),type:n.inputType,"onUpdate:modelValue":t[0]||(t[0]=function(e){return n.modelValue=e}),spellcheck:"false",autocapitalize:"off",autocomplete:"off",readonly:n.readonly,disabled:n.disabled,placeholder:n.placeholder,maxlength:n.maxlength,onInput:t[1]||(t[1]=function(){return c.handleInput&&c.handleInput.apply(c,arguments)}),onBlur:t[2]||(t[2]=Object(o.Q)((function(){return c.handleBlur&&c.handleBlur.apply(c,arguments)}),["prevent"])),onChange:t[3]||(t[3]=function(){return c.handleChange&&c.handleChange.apply(c,arguments)}),onKeydown:t[4]||(t[4]=function(){return c.handleKeydown&&c.handleKeydown.apply(c,arguments)})},null,42,a),[[o.J,n.modelValue]]),n.icon?(Object(o.w)(),Object(o.f)("i",{key:0,class:Object(o.q)(["iconfont",n.icon])},null,2)):Object(o.e)("",!0)])},c.__scopeId="data-v-43282bc1";t.a=c}}]);